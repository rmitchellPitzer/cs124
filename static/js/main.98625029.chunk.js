(this.webpackJsonplab3=this.webpackJsonplab3||[]).push([[0],{37:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(38),i=n.n(a),c=(n(58),n(59),n(60),n(2)),o=n(4),s="toggleTaskCompletion",u="pushTasksToStack",l="toggleTodoList",d="toggleCompletedList",p="showMenu",f="hideMenu",b="undoTask",h="showUndo",j="hideUndo",v="updateTasks",k="updateSortingFields",x="showSortFieldMenu",y="hideSortFieldMenu",O="showPriorityMenu",m="hidePriorityMenu",w="showTaskMenu",T="hideTaskMenu",g="setActiveTask",C="popStack",S=n(52),M=n(18),F=n(15),D=n(81),N="name",A="time",P="priority";function I(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=E(r);if(0==n)U(t,a,r);else{var i=e[n-1];B(i,E(i),r,t,a)}}return t.map((function(e){return e}))}function U(e,t,n){e.sort((function(e,r){return t(e,r,n.isAscending)}))}function B(e,t,n,r,a){r.sort((function(r,i){if(function(e,t,n,r){return 0==t(n,r,e.isAscending)}(e,t,r,i))return a(r,i,n.isAscending)}))}function E(e){var t=e.field;e.isAscending;switch(t){case N:return L;case A:return z;case P:return _;default:return}}function L(e,t,n){var r=e.text.localeCompare(t.text);return n?r:-1*r}function _(e,t,n){if(-1==e.priority)return 1;if(-1==t.priority)return-1;var r=e.priority-t.priority;return n?-1*r:r}function z(e,t,n){var r=e.creationDate-t.creationDate;return n?r:-1*r}var K={tasks:[],stack:[],sortingFields:[],showUndo:!1,showCompleted:!1,showTodo:!0,showMenu:!1,showTaskMenu:!1,showSortMenu:!1,showPriorityMenu:!1,priorityMenuActiveID:null,activeTask:null};function V(e,t){var n=e.tasks.map((function(e){return e})),r=n.find((function(e){return e.id===t}));return r.isCompleted=!r.isCompleted,Object(F.a)(Object(F.a)({},e),{},{tasks:n})}function H(e){var t=Object(M.a)(e.stack);return t.push(e.tasks),Object(F.a)(Object(F.a)({},e),{},{stack:t})}function R(e){var t=e.stack.map((function(e){return e}));return Object(F.a)(Object(F.a)({},e),{},{tasks:t.pop(),stack:t})}function q(e){return Object(F.a)(Object(F.a)({},e),{},{showCompleted:!e.showCompleted})}function J(e){return Object(F.a)(Object(F.a)({},e),{},{showTodo:!e.showTodo})}function W(e){return Object(F.a)(Object(F.a)({},e),{},{showMenu:!0})}function G(e){return Object(F.a)(Object(F.a)({},e),{},{showMenu:!1})}function Q(e){return Object(F.a)(Object(F.a)({},e),{},{showUndo:!0})}function X(e){return Object(F.a)(Object(F.a)({},e),{},{showUndo:!1})}function Y(e,t){var n=I(e.sortingFields,t);return Object(F.a)(Object(F.a)({},e),{},{tasks:n})}function Z(e,t){var n=t.sortingFields,r=I(n,e.tasks);return Object(F.a)(Object(F.a)({},e),{},{tasks:r,sortingFields:n})}function $(e){return Object(F.a)(Object(F.a)({},e),{},{showSortMenu:!1})}function ee(e){return Object(F.a)(Object(F.a)({},e),{},{showSortMenu:!0,showPriorityMenu:!1,showTaskMenu:!1})}function te(e,t){return Object(F.a)(Object(F.a)({},e),{},{priorityMenuActiveID:t.id,showPriorityMenu:!0,showSortMenu:!1,showTaskMenu:!1})}function ne(e){return Object(F.a)(Object(F.a)({},e),{},{showPriorityMenu:!1})}function re(e){return Object(F.a)(Object(F.a)({},e),{},{showMenu:!1,showPriorityMenu:!1,showTaskMenu:!0})}function ae(e){return Object(F.a)(Object(F.a)({},e),{},{showTaskMenu:!1})}function ie(e,t){return Object(F.a)(Object(F.a)({},e),{},{activeTask:t})}function ce(e){var t=Object(M.a)(e.stack);return t.pop(),Object(F.a)(Object(F.a)({},e),{},{stack:t})}var oe=Object(S.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return V(e,t.payload.id);case l:return J(e);case d:return q(e);case p:return W(e);case f:return G(e);case b:return R(e);case h:return Q(e);case j:return X(e);case v:return Y(e,t.payload.tasks);case k:return Z(e,t.payload);case x:return ee(e);case y:return $(e);case O:return te(e,t.payload);case m:return ne(e);case w:return re(e);case T:return ae(e);case g:return ie(e,t.payload.id);case u:return H(e);case C:return ce(e);default:return e}})),se=oe,ue=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"toggleTodoList",value:function(){var e={type:l};se.dispatch(e)}},{key:"activeTask",value:function(){return se.getState().activeTask}},{key:"showSortMenu",value:function(){return se.getState().showSortMenu}},{key:"hideSortMenu",value:function(){var e={type:y};se.dispatch(e)}},{key:"openSortFieldMenu",value:function(){var e={type:x};se.dispatch(e)}},{key:"showToDo",value:function(){return se.getState().showTodo}},{key:"showCompleted",value:function(){return se.getState().showCompleted}},{key:"showMenu",value:function(){var e={type:p};se.dispatch(e)}},{key:"closeMenu",value:function(){var e={type:f};se.dispatch(e)}},{key:"menuIsActive",value:function(){return se.getState().showMenu}},{key:"toggleCompletedList",value:function(){var e={type:d};se.dispatch(e)}},{key:"showUndo",value:function(){var e={type:h};se.dispatch(e)}},{key:"hideUndo",value:function(){var e={type:j};se.dispatch(e)}},{key:"undoTask",value:function(){var e={type:b};se.dispatch(e)}},{key:"undoIsActive",value:function(){return se.getState().showUndo}},{key:"showPriorityMenu",value:function(e){var t=function(e){return{type:O,payload:{id:e}}}(e);se.dispatch(t)}},{key:"hidePriorityMenu",value:function(){var e={type:m};se.dispatch(e)}},{key:"showTaskMenu",value:function(){var e={type:w};se.dispatch(e)}},{key:"hideTaskMenu",value:function(){var e={type:T};se.dispatch(e)}},{key:"setActiveTask",value:function(e){var t=function(e){return{type:g,payload:{id:e}}}(e);se.dispatch(t)}},{key:"getLastTask",value:function(){var e=se.getState().tasks,t=e.length;return 0==t?null:e[t-1]}}]),e}(),le=(n(49),n(28)),de=n(26),pe=n(7),fe=n(0),be=n.n(fe),he=n(3),je=n(48);je.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var ve=je.a.firestore(),ke="todoiz.io",xe="default",ye="tasks",Oe=ve.collection(ke);function me(e){return Oe.doc(xe).collection(ye).doc(e)}function we(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(he.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.doc(xe).collection(ye).doc(t.id).set(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"updateTaskText",value:function(){var e=Object(he.a)(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return r=e.sent,e.next=5,r.update({text:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"toggleTaskCompletion",value:function(){var e=Object(he.a)(be.a.mark((function e(t){var n,r,a,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=me(t),e.next=3,n.get();case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:return a=r.data(),i=a.isCompleted,e.next=9,n.update({isCompleted:!i});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTask",value:function(){var e=Object(D.a)();return Oe.doc(xe).collection(ye).doc(e).set({isCompleted:!1,text:"",id:e,priority:-1,creationDate:Date.now()}),e}},{key:"deleteTask",value:function(){var e=Object(he.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.delete();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAllCompleted",value:function(){var e=Object(he.a)(be.a.mark((function e(){var t,n,r,a,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:u},se.dispatch(t),e.next=4,Oe.doc(xe).collection(ye).where("isCompleted","==",!0).get();case 4:n=e.sent,r=Object(pe.a)(n.docs),e.prev=6,r.s();case 8:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=12,i.ref.delete();case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"todo",value:function(){return se.getState().tasks.filter((function(e){return!1===e.isCompleted}))}},{key:"completed",value:function(){return se.getState().tasks.filter((function(e){return!0===e.isCompleted}))}},{key:"updateTaskPriority",value:function(){var e=Object(he.a)(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return r=e.sent,e.next=5,r.update({priority:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTask",value:function(e){return se.getState().tasks.find((function(t){return t.id==e}))}},{key:"undoTaskDelete",value:function(){var e=Object(he.a)(be.a.mark((function e(){var t,n,r,a,i,c;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=se.getState().stack,n=t.pop()){e.next=4;break}return e.abrupt("return");case 4:r=Object(pe.a)(n),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}if(me((i=a.value).id).exists){e.next=12;break}return e.next=12,we(i);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:c={type:C},se.dispatch(c);case 24:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ce=ge,Se=n(6);function Me(){var e=Ce.createTask();ue.setActiveTask(e),ue.showTaskMenu()}function Fe(){return Object(Se.jsx)("button",{id:"action-button","aria-label":"Add new Task",class:"action-button",onClick:Me,autoFocus:!0,children:Object(Se.jsx)(le.a,{icon:de.e})})}n(50);function De(){ue.showMenu()}function Ne(e){var t=e.hasCompletedTasks?"banner-drop-down":"banner-drop-down hidden";return Object(Se.jsx)("button",{"aria-label":"Clear Task Drop Down",className:t,onClick:De,children:Object(Se.jsx)(le.a,{icon:de.c})})}function Ae(e){return Object(Se.jsx)("div",{class:"banner",children:Object(Se.jsx)("h1",{class:"title",children:" Todoiz.IO"})})}var Pe=n(23),Ie=(n(71),{0:"high-priority",1:"medium-priority",2:"low-priority"});function Ue(e){var t=e.priority,n=-1==t?"no-priority":Ie[t];return Object(Se.jsx)("div",{className:n+" priority-icon"})}var Be={0:"high-priority",1:"medium-priority",2:"low-priority"};function Ee(e){var t=Be[e];return t||"no-priority"}function Le(e){var t=e.id,n=e.priority,r=e.text,a=-1==n?"no-priority":Be[n];return Object(Se.jsx)("button",{"aria-label":"Priority Button with ".concat(Ee(n)," for task with text ").concat(r),className:a+" priority-icon",onClick:function(){return function(e){ue.showPriorityMenu(e);var t=document.getElementsByClassName("priority-item");t[0]&&t[0].focus()}(t)}})}function _e(){var e=function(){var e=ue.activeTask(),t=ue.getLastTask(),n=t?t.id:null;if(e||(e=n),e){return document.getElementById(e)||document.getElementById(n)}}();if(!e)return function(){var e=document.getElementById("action-button");e&&e.focus()}();e.getElementsByClassName("task-text")[0].focus()}function ze(){return(ze=Object(he.a)(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Delete"===t.key)){e.next=6;break}return r=Ke(n),e.next=5,Ce.deleteTask(n);case 5:r&&r.focus();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){var t=document.getElementById(e);return t?t.previousElementSibling:null}function Ve(e){var t=e.priority,n=e.isCompleted,r=e.text,a=(new Map).set(0,"High Priorty").set(-1,"No Priority").set(1,"Medium Priority").set(2,"Low Priority");return"Task with text ".concat(r," has priority level ").concat(a.get(t)," and is ").concat(n?"completed":"not completed ")}function He(){return(He=Object(he.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.toggleTaskCompletion(t);case 2:_e();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=Object(Pe.b)((function(e,t){var n=t.id==e.activeTask&&function(e){return e.showTaskMenu||e.showSortMenu||e.showPriorityMenu}(e);return{isSelected:n}}))((function(e){var t="task-item ".concat(e.isCompleted?"completed":""," ").concat(e.isSelected?"selected-task":"");return Object(Se.jsxs)("div",{"aria-label":Ve(e),id:e.id,class:t,onKeyDown:function(t){return function(e,t){return ze.apply(this,arguments)}(t,e.id)},children:[Object(Se.jsx)("input",{alt:"task completion status",class:"checkbox",type:"checkbox","aria-label":e.isCompleted?"Mark task with text ".concat(e.text," as to do"):"Mark task with text ".concat(e.text," as completed "),value:e.isCompleted,onChange:function(t){return function(e){return He.apply(this,arguments)}(e.id)},checked:e.isCompleted}),Object(Se.jsx)("button",{"aria-label":"To do item with text: ".concat(e.text),class:"task-text",alt:"task text",onClick:function(){return t=e.id,console.log("clicked"),ue.showTaskMenu(),void ue.setActiveTask(t);var t},children:e.text}),Object(Se.jsx)(Le,{text:e.text,id:e.id,priority:e.priority})]})}));n(72);function qe(e){return Object(Se.jsx)("div",{class:"container scroll-container",children:e.tasks.map((function(e){return Object(r.createElement)(Re,Object(F.a)(Object(F.a)({},e),{},{key:e.id}))}))})}n(73),n(74),n(75);function Je(e){var t=e.isToDo,n=e.isOpen;return t?n?"Close To Do Section":"Open To Do Section ":n?"Close Completed Section":"Open Completed Section "}var We=Object(Pe.b)((function(e,t){return{isOpen:t.isToDo?ue.showToDo():ue.showCompleted()}}))((function(e){var t=e.isOpen?de.a:de.b;return Object(Se.jsx)("button",{class:"drop-down",onClick:function(t){e.isToDo?ue.toggleTodoList():ue.toggleCompletedList()},"aria-label":Je(e),children:Object(Se.jsx)(le.a,{icon:t})})}));n(76);function Ge(){ue.openSortFieldMenu()}function Qe(e){var t=e.isToDo?"sort-button":"sort-button hide";return Object(Se.jsx)("button",{id:"filter-button",className:t,onClick:Ge,"aria-label":"Open Sort Filter",children:Object(Se.jsx)(le.a,{icon:de.f})})}function Xe(e){return Object(Se.jsxs)("button",{onClick:function(){return e.command()},class:"action-item",onKeyDown:function(e){"Escape"==e.key&&ue.closeMenu()},autoFocus:!0,children:[e.icon&&Object(Se.jsx)(le.a,{icon:e.icon}),Object(Se.jsx)("div",{class:"action-text",children:Object(Se.jsxs)("p",{children:[" ",e.text," "]})})]})}n(77);var Ye=[{text:"Clear Completed Tasks",command:function(){Ce.deleteAllCompleted(),ue.closeMenu(),ue.showUndo(),setTimeout((function(){ue.hideUndo()}),3e3)},icon:de.d}];function Ze(e){return Object(Se.jsxs)("div",{children:[Object(Se.jsx)("div",{className:"action-container",children:Ye.map((function(e){return Object(r.createElement)(Xe,Object(F.a)(Object(F.a)({},e),{},{key:e.text}))}))}),Object(Se.jsx)("div",{className:"overlay",onClick:ue.closeMenu})]})}function $e(e){var t="bar ".concat(e.className);return console.log(e.hasCompletedTask),Object(Se.jsxs)("div",{class:t,children:[Object(Se.jsx)(We,{isToDo:"todo-bar"===e.className}),Object(Se.jsxs)("h1",{class:"bar-title",children:[" ",e.sectionTitle," "]}),Object(Se.jsx)(Qe,{isToDo:e.isToDo}),!e.isToDo&&Object(Se.jsx)(Ne,{hasCompletedTasks:e.hasCompletedTask}),!e.isToDo&&e.menuIsActive&&Object(Se.jsx)(Ze,{})]})}var et=Object(Pe.b)((function(e,t){if("To Do"===t.sectionTitle)return{tasks:Ce.todo(),showContainer:ue.showToDo(),isToDo:!0,showSortMenu:e.showSortMenu};var n=Ce.completed().length>0;return console.log(n),{tasks:Ce.completed(),menuIsActive:ue.menuIsActive(),showContainer:ue.showCompleted(),hasCompletedTasks:n,isToDo:!1,showSortMenu:e.showSortMenu}}))((function(e){return Object(Se.jsxs)("div",{children:[Object(Se.jsx)($e,{isToDo:e.isToDo,hasCompletedTask:e.hasCompletedTasks,menuIsActive:e.menuIsActive,sectionTitle:e.sectionTitle,className:e.className}),e.showContainer&&Object(Se.jsx)(qe,{tasks:e.tasks})]})}));function tt(){return nt.apply(this,arguments)}function nt(){return(nt=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.undoTaskDelete();case 2:ue.hideUndo();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){return Object(Se.jsxs)("div",{class:"undo",children:[Object(Se.jsx)("p",{children:" Completed tasks cleared"}),Object(Se.jsx)("button",{"aria-label":"Undo Cleared Tasks",alt:"undo task clear",onClick:tt,autoFocus:!0,children:"Undo"})]})}n(78);var at=ve.collection(ke),it=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"addSortField",value:function(){var t=Object(he.a)(be.a.mark((function t(n,r){var a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasValidField(n)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,ot();case 4:if(a=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!pt(n,a)){t.next=11;break}return t.abrupt("return");case 11:ft(a,n,!!r);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"hasValidField",value:function(e){return e==N||e==P||e==A}},{key:"changeSortField",value:function(){var t=Object(he.a)(be.a.mark((function t(n,r){var a,i,c;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasValidField(n)){t.next=2;break}return t.abrupt("return");case 2:if(e.hasValidField(r)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,ot();case 6:if(a=t.sent,i=a.find((function(e){return e.field==n})),c=a.find((function(e){return e.field==r})),i){t.next=11;break}return t.abrupt("return");case 11:return i.field=c?n:r,t.next=14,ut(a);case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeAscending",value:function(){var e=Object(he.a)(be.a.mark((function e(t,n){var r,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:if(r=e.sent,a=r.find((function(e){return e.field==t}))){e.next=6;break}return e.abrupt("return");case 6:return a.isAscending=!!n,e.next=9,ut(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addRandomField",value:function(){var t=Object(he.a)(be.a.mark((function t(){var n,r,a,i;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(r=!!n.find((function(e){return"name"==e.field})),a=!!n.find((function(e){return"time"==e.field})),i=!!n.find((function(e){return"priority"==e.field})),r){t.next=13;break}return t.next=11,e.addSortField("name",!0);case 11:case 16:t.next=21;break;case 13:if(a){t.next=18;break}return t.next=16,e.addSortField("time",!0);case 18:if(i){t.next=21;break}return t.next=21,e.addSortField("priority",!0);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"removeSortField",value:function(){var e=Object(he.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:if(n=e.sent,ct(),n){e.next=6;break}return e.abrupt("return");case 6:return r=n.filter((function(e){return e.field!==t})),e.next=9,ut(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeSortFieldOrder",value:function(){var e=Object(he.a)(be.a.mark((function e(t,n){var r,a,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:if(!(!(r=e.sent)||n<0||n>=r.length)){e.next=5;break}return e.abrupt("return");case 5:if(-1!=(a=dt(t,r))){e.next=8;break}return e.abrupt("return");case 8:return i=r.splice(a,1),r.splice(n,0,i[0]),e.next=12,ut(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ct(){return at.doc(xe)}function ot(){return st.apply(this,arguments)}function st(){return(st=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct().get();case 2:return t=e.sent,e.abrupt("return",t?t.data().sortingFields:null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(he.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ct(),e.next=3,n.update({sortingFields:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){for(var n=0;n<t.length;n++){if(t[n].field==e)return n}return-1}function pt(e,t){return!!t.find((function(t){return t.field==e}))}function ft(e,t,n){return bt.apply(this,arguments)}function bt(){return(bt=Object(he.a)(be.a.mark((function e(t,n,r){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(),t.push({field:n,isAscending:r}),e.next=4,ut(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return jt.apply(this,arguments)}function jt(){return(jt=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.addRandomField();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){var t=e.sortingFields.length<3?"sortButton sort-button-color":"hide";return Object(Se.jsx)("button",{onClick:ht,className:t,"aria-label":"Add a Sort Field",autoFocus:!0,children:Object(Se.jsx)("span",{children:" + Field "})})}function kt(){ue.hideSortMenu();var e=document.getElementById("filter-button");e&&e.focus()}function xt(e){return Object(Se.jsx)("button",{id:"sort-close-button",className:"sort-close-button sort-button-color","aria-label":"Close Sort Filter",onClick:kt,children:Object(Se.jsx)("span",{children:" x "})})}n(46);function yt(){return(yt=Object(he.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,it.changeSortFieldOrder(t,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=Object(Pe.b)((function(e){return{sortingFields:e.sortingFields}}))((function(e){return Object(Se.jsx)("div",{children:Object(Se.jsx)("select",{"aria-label":"Change Sorting Order",className:"sort-order",onChange:function(t){return function(e,t){return yt.apply(this,arguments)}(e.field,parseInt(t.currentTarget.value))},value:e.index,autoFocus:0==e.index,children:e.sortingFields.map((function(e,t){return Object(Se.jsxs)("option",{value:t,children:[" ",t+1," "]},t)}))})})}));function mt(e){return Object(Se.jsxs)("div",{children:[Object(Se.jsx)("label",{children:" By "}),Object(Se.jsxs)("select",{"aria-label":"Sort By Dropdown",className:"sort-type",onChange:function(t){return function(e,t){it.changeSortField(e,t.currentTarget.value)}(e.field,t)},value:e.field,children:[Object(Se.jsx)("option",{value:"name",children:" Name "}),Object(Se.jsx)("option",{value:"time",children:" Creation Date"}),Object(Se.jsx)("option",{value:"priority",children:" Priority "})]})]})}function wt(){return(wt=Object(he.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.changeAscending(t,!n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){var t=e.isAscending?de.h:de.g;return Object(Se.jsx)("div",{children:Object(Se.jsx)("button",{className:"direction-button",onClick:function(){return function(e,t){return wt.apply(this,arguments)}(e.field,e.isAscending)},"aria-label":e.isAscending?"Sort in Descending Order":"Sort in Ascending Order",children:Object(Se.jsx)(le.a,{icon:t})})})}function gt(e){return Object(Se.jsx)("button",{className:"delete-button",onClick:function(){return t=e.field,void it.removeSortField(t);var t},"aria-label":"Delete Sorting Field",children:Object(Se.jsx)("span",{children:" x "})})}function Ct(e){var t=e.field,n=e.index,r=e.isAscending;return"Sort by ".concat(t," with index ").concat(n," in ").concat(r?"ascending":"descending"," order")}function St(e){return Object(Se.jsxs)("div",{className:"entry-container","aria-label":Ct(e),children:[Object(Se.jsx)(Ot,{field:e.field,index:e.index}),Object(Se.jsx)(mt,{field:e.field}),Object(Se.jsx)(Tt,{isAscending:e.isAscending,field:e.field}),Object(Se.jsx)(gt,{field:e.field})]})}var Mt=Object(Pe.b)((function(e){return{sortingFields:e.sortingFields}}))((function(e){return Object(Se.jsxs)("div",{className:"sort-container",children:[Object(Se.jsxs)("div",{className:"sort-bar",children:[Object(Se.jsx)("h2",{className:"sort-title",children:" Sort "}),Object(Se.jsxs)("div",{className:"sort-section",children:[Object(Se.jsx)(vt,{sortingFields:e.sortingFields}),Object(Se.jsx)(xt,{})]})]}),Object(Se.jsx)("div",{class:"field-container",children:e.sortingFields.map((function(e,t){return Object(Se.jsx)(St,Object(F.a)({index:t},e),t)}))})]})}));var Ft=Object(Pe.b)((function(e){var t=e.priorityMenuActiveID,n=e.tasks.find((function(e){return e.id==t})).priority;return{id:t,selection:n}}))((function(e){var t=e.priority==e.selection,n=t?"priority-item priority-selection":"priority-item";return Object(Se.jsxs)("button",{"aria-label":"Set Task Priority to ".concat(e.priorityText),className:n,tabIndex:0,onClick:function(){return t=e.id,n=e.priority,void Ce.updateTaskPriority(t,n);var t,n},autoFocus:t,children:[Object(Se.jsxs)("span",{children:[" ",e.priorityText]}),Object(Se.jsx)(Ue,{priority:e.priority})]})}));function Dt(){ue.hidePriorityMenu(),_e()}function Nt(e){return Object(Se.jsx)("button",{className:"priority-close-button",onClick:Dt,"aria-label":"Close Priority Selection Menu",children:Object(Se.jsx)("span",{children:" x "})})}function At(e){return Object(Se.jsxs)("div",{className:"priority-menu-bar",children:[Object(Se.jsx)("h2",{className:"priority-title",children:" Priority "}),Object(Se.jsx)(Nt,{})]})}n(79);var Pt=[{priorityText:"No Priority",priority:-1},{priorityText:"Low Priority",priority:2},{priorityText:"Medium Priority",priority:1},{priorityText:"High Priority",priority:0}];function It(e){return Object(Se.jsxs)("div",{className:"priority-menu-container",children:[Object(Se.jsx)(At,{}),Object(Se.jsx)("div",{className:"priority-item-container",children:Pt.map((function(e,t){return Object(Se.jsx)(Ft,Object(F.a)({index:t},e),t)}))})]})}n(37);function Ut(){ue.hideTaskMenu(),_e()}function Bt(e){return Object(Se.jsx)("button",{className:"task-menu-close-button",onClick:Ut,"aria-label":"Close Task Menu",children:"Close"})}function Et(){return(Et=Object(he.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return ue.hideTaskMenu(),e.next=5,Ce.deleteTask(t);case 5:console.log("focusing"),_e();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=Object(Pe.b)((function(e){return{activeTask:e.activeTask}}))((function(e){var t=e.activeTask;return Object(Se.jsx)("button",{className:"task-menu-delete-button",onClick:function(){return function(e){return Et.apply(this,arguments)}(t)},"aria-label":"Delete Selected Task",children:"Delete"})}));function _t(e){return Object(Se.jsxs)("div",{className:"task-menu-bar",children:[Object(Se.jsx)("h2",{className:"task-menu-title",children:" Task "}),Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Lt,{}),Object(Se.jsx)(Bt,{})]})]})}function zt(){return(zt=Object(he.a)(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.value,e.next=3,Ce.updateTaskText(n,r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return(Kt=Object(he.a)(be.a.mark((function e(t){var n,r,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Enter"===t.key,r=t.currentTarget,!n){e.next=8;break}return e.next=5,Ce.createTask();case 5:a=e.sent,ue.setActiveTask(a),r.value="";case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt=Object(Pe.b)((function(e){return{activeTask:e.activeTask,task:Ce.getTask(e.activeTask)}}))((function(e){var t=e.activeTask,n=e.task;return Object(Se.jsx)("div",{className:"task-editor-container",children:Object(Se.jsx)("input",{id:"task-editor","aria-label":"Set Task Text",value:n?n.text:"",autoFocus:!0,onKeyPress:function(e){return function(e){return Kt.apply(this,arguments)}(e)},onChange:function(e){return function(e,t){return zt.apply(this,arguments)}(e,t)}})})}));function Ht(e){return Object(Se.jsxs)("div",{className:"task-menu-container",children:[Object(Se.jsx)(_t,{}),Object(Se.jsx)(Vt,{})]})}var Rt=Object(Pe.b)((function(e){return{menuIsActive:ue.menuIsActive(),showUndo:ue.undoIsActive(),showSortMenu:ue.showSortMenu(),showPriorityMenu:e.showPriorityMenu,showTaskMenu:e.showTaskMenu}}))((function(e){var t=e.showTaskMenu,n=e.showUndo,r=e.showSortMenu,a=e.showPriorityMenu;return Object(Se.jsxs)("div",{class:"container",children:[Object(Se.jsx)(Ae,{}),Object(Se.jsx)(et,{className:"todo-bar",sectionTitle:"To Do"}),!r&&!a&&Object(Se.jsx)(et,{className:"completed-bar",sectionTitle:"Completed"}),Object(Se.jsx)(Fe,{}),n&&Object(Se.jsx)(rt,{}),r&&Object(Se.jsx)(Mt,{}),a&&Object(Se.jsx)(It,{}),t&&Object(Se.jsx)(Ht,{})]})})),qt=ve.collection(ke),Jt=function(){function e(){Object(c.a)(this,e),this._db=ve,this._taskSubscription=null,this._sortSubscription=null}return Object(o.a)(e,[{key:"initSortingFields",value:function(){var e=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.doc(xe).update({sortingFields:[]});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setTaskSubscription",value:function(e){this._taskSubscription=e.onSnapshot((function(e){var t=function(e){return{type:v,payload:{tasks:e}}}(e.docs.map((function(e){return e.data()})));se.dispatch(t)}))}},{key:"setSortSubscription",value:function(e){this._sortSubscrption=e.onSnapshot((function(e){var t=function(e){return{type:k,payload:{sortingFields:e}}}(e.data().sortingFields);se.dispatch(t)}))}}]),e}(),Wt=new Jt,Gt=ve.collection(ke),Qt=Gt.doc(xe).collection("tasks"),Xt=Gt.doc(xe),Yt=function(){Wt.setTaskSubscription(Qt),Wt.setSortSubscription(Xt)},Zt=ve.collection(ke);function $t(){return($t=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt.doc(xe).get();case 2:if(e.sent.exists){e.next=6;break}return e.next=6,Zt.doc(xe).set({sortingFields:[],id:xe});case 6:Yt();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){$t.apply(this,arguments)}(),i.a.render(Object(Se.jsx)(Pe.a,{store:se,children:Object(Se.jsx)(Rt,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.98625029.chunk.js.map