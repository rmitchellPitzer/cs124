(this.webpackJsonplab3=this.webpackJsonplab3||[]).push([[0],{37:function(e,t,n){},47:function(e,t,n){},51:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},67:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r=n(17),s=n(38),i=n.n(s),a=(n(67),n(51),n(52),n(18)),c=n(3),o=n(4),u=n(43),l=n(20),d=n(7),h="name",p="time",f="priority";function b(e,t){for(var n=0;n<e.length;n++){var r=e[n],s=O(r);if(0==n)j(t,s,r);else{var i=e[n-1];v(i,O(i),r,t,s)}}return t.map((function(e){return e}))}function j(e,t,n){e.sort((function(e,r){return t(e,r,n.isAscending)}))}function v(e,t,n,r,s){r.sort((function(r,i){if(function(e,t,n,r){return 0==t(n,r,e.isAscending)}(e,t,r,i))return s(r,i,n.isAscending)}))}function O(e){var t=e.field;e.isAscending;switch(t){case h:return x;case p:return w;case f:return m;default:return}}function x(e,t,n){var r=e.text.localeCompare(t.text);return n?r:-1*r}function m(e,t,n){if(-1==e.priority)return 1;if(-1==t.priority)return-1;var r=e.priority-t.priority;return n?-1*r:r}function w(e,t,n){var r=e.creationDate-t.creationDate;return n?r:-1*r}var k="showDropDownMenu",y="hideDropDownMenu",g="showPriorityMenu",S="hidePriorityMenu",L="showTaskMenu",T="hideTaskMenu",M="toggleTaskCompletion",C="toggleTodoList",N="toggleCompletedList",D="undoTask",A="showUndo",F="hideUndo",P="pushTasksToStack",R="popStack",U="setActiveTask",I="updateTasks",_="showSortFieldMenu",q="hideSortFieldMenu",E="updateSortingFields",B={tasks:[],stack:[],showTodo:!1,showCompleted:!1,activeTask:null,showUndo:!1,sortingFields:[]};function W(e,t){var n=b(e.sortingFields,t);return Object(d.a)(Object(d.a)({},e),{},{tasks:n})}function V(e,t){return Object(d.a)(Object(d.a)({},e),{},{activeTask:t})}function Y(e){var t=Object(l.a)(e.stack);return t.pop(),Object(d.a)(Object(d.a)({},e),{},{stack:t})}function K(e){var t=Object(l.a)(e.stack);return t.push(e.tasks),Object(d.a)(Object(d.a)({},e),{},{stack:t})}function J(e){var t=e.stack.map((function(e){return e}));return Object(d.a)(Object(d.a)({},e),{},{tasks:t.pop(),stack:t})}function z(e,t){var n=e.tasks.map((function(e){return e})),r=n.find((function(e){return e.id===t}));return r.isCompleted=!r.isCompleted,Object(d.a)(Object(d.a)({},e),{},{tasks:n})}function H(e){return Object(d.a)(Object(d.a)({},e),{},{showCompleted:!e.showCompleted})}function G(e){return Object(d.a)(Object(d.a)({},e),{},{showTodo:!e.showTodo})}function Q(e){return Object(d.a)(Object(d.a)({},e),{},{showUndo:!0})}function X(e){return Object(d.a)(Object(d.a)({},e),{},{showUndo:!1})}function Z(e,t){var n=t.sortingFields,r=b(n,e.tasks);return Object(d.a)(Object(d.a)({},e),{},{tasks:r,sortingFields:n})}var $="updateSignInStatus";function ee(e){return{type:$,isSignedIn:e}}function te(e,t){return Object(d.a)(Object(d.a)({},e),{},{isSignedIn:t})}var ne={isSignedIn:!1};function re(e,t){return Object(d.a)(Object(d.a)({},e),{},{priorityMenuActiveID:t.id,showPriorityMenu:!0,showSortMenu:!1,showTaskMenu:!1})}function se(e){return Object(d.a)(Object(d.a)({},e),{},{showPriorityMenu:!1})}var ie={showPriorityMenu:!1,priorityMenuActiveID:null};var ae={showSortMenu:!1};function ce(e){return Object(d.a)(Object(d.a)({},e),{},{showSortMenu:!1})}function oe(e){return Object(d.a)(Object(d.a)({},e),{},{showSortMenu:!0,showPriorityMenu:!1,showTaskMenu:!1})}function ue(e){return Object(d.a)(Object(d.a)({},e),{},{showDropDownMenu:!1,showPriorityMenu:!1,showTaskMenu:!0})}function le(e){return Object(d.a)(Object(d.a)({},e),{},{showTaskMenu:!1})}function de(e){return Object(d.a)(Object(d.a)({},e),{},{showDropDownMenu:!0})}function he(e){return Object(d.a)(Object(d.a)({},e),{},{showDropDownMenu:!1})}var pe={showTaskMenu:!1,showDropDownMenu:!1};var fe="toggleOwnedLists",be="togglePendingLists",je="toggleSharedLists",ve="updateOwnedLists",Oe="updateSharedLists",xe="updatePendingLists",me="navToList",we="updateActiveListName";function ke(e){return{type:me,list:e}}var ye="hideListSettings",ge="showListSettings",Se="showChangeNameMenu",Le="hideChangeNameMenu",Te="updateListName",Me="showDeleteListMenu",Ce="hideDeleteListMenu",Ne="showShareMenu",De="hideShareMenu",Ae="showShareDialogOne",Fe="hideShareDialogOne",Pe="showShareDialogTwo",Re="hideShareDialogTwo",Ue="updateShareUser",Ie="showRemoveSharedMenu",_e="hideRemoveSharedMenu";function qe(e){return{type:Ue,user:e}}function Ee(){return{type:Fe}}function Be(){return{type:Pe}}function We(e){return{type:Te,text:e}}function Ve(){return{type:ye}}var Ye={ownedLists:[],sharedLists:[],pendingLists:[],showOwnedLists:!1,showSharedLists:!1,showPendingLists:!1,showListSettings:!1,showRemoveSharedMenu:!1,activeList:null};function Ke(e){return Object(d.a)(Object(d.a)({},e),{},{showRemoveSharedMenu:!0})}function Je(e){return Object(d.a)(Object(d.a)({},e),{},{showRemoveSharedMenu:!1})}function ze(e,t){var n=e.activeList;return Object(d.a)(Object(d.a)({},e),{},{activeList:Object(d.a)(Object(d.a)({},n),{},{title:t})})}function He(e,t){return Object(d.a)(Object(d.a)({},e),{},{activeList:t})}function Ge(e,t){return Object(d.a)(Object(d.a)({},e),{},{pendingLists:t})}function Qe(e,t){return Object(d.a)(Object(d.a)({},e),{},{sharedLists:t})}function Xe(e,t){return Object(d.a)(Object(d.a)({},e),{},{ownedLists:t})}function Ze(e){return Object(d.a)(Object(d.a)({},e),{},{showPendingLists:!e.showPendingLists})}function $e(e){return Object(d.a)(Object(d.a)({},e),{},{showSharedLists:!e.showSharedLists})}function et(e){return Object(d.a)(Object(d.a)({},e),{},{showOwnedLists:!e.showOwnedLists})}var tt="showNewListMenu",nt="hideNewListMenu",rt="updateNewListName";function st(e){return{type:rt,name:e}}var it={showNewListMenu:!1,newListName:""};function at(e){return Object(d.a)(Object(d.a)({},e),{},{showNewListMenu:!0})}function ct(e){return Object(d.a)(Object(d.a)({},e),{},{showNewListMenu:!1})}function ot(e,t){return Object(d.a)(Object(d.a)({},e),{},{newListName:t})}var ut={showListSettings:!1,listTitle:null,showChangeNameMenu:!1,showDeleteListMenu:!1,showShareMenu:!1,shareWithUser:null,showShareDialogOne:!1,showShareDialogTwo:!1};function lt(e,t){return Object(d.a)(Object(d.a)({},e),{},{shareWithUser:t})}function dt(e){return Object(d.a)(Object(d.a)({},e),{},{showShareDialogTwo:!0})}function ht(e){return Object(d.a)(Object(d.a)({},e),{},{showShareDialogTwo:!1})}function pt(e){return Object(d.a)(Object(d.a)({},e),{},{showShareDialogOne:!0})}function ft(e){return Object(d.a)(Object(d.a)({},e),{},{showShareDialogOne:!1})}function bt(e){return Object(d.a)(Object(d.a)({},e),{},{showShareMenu:!0})}function jt(e){return Object(d.a)(Object(d.a)({},e),{},{showShareMenu:!1})}function vt(e){return Object(d.a)(Object(d.a)({},e),{},{showDeleteListMenu:!1})}function Ot(e){return Object(d.a)(Object(d.a)({},e),{},{showDeleteListMenu:!0})}function xt(e,t){return Object(d.a)(Object(d.a)({},e),{},{listTitle:t})}function mt(e){return Object(d.a)(Object(d.a)({},e),{},{showChangeNameMenu:!1})}function wt(e){return Object(d.a)(Object(d.a)({},e),{},{showChangeNameMenu:!0})}function kt(e){return Object(d.a)(Object(d.a)({},e),{},{showListSettings:!1})}function yt(e){return Object(d.a)(Object(d.a)({},e),{},{showListSettings:!0})}var gt="showRequestMenu",St="hideRequestMenu",Lt="updateActiveRequest",Tt="showRemoveMenu",Mt="hideRemoveMenu",Ct="updateSelectedUser";function Nt(){return{type:St}}var Dt={activeRequest:null,selectedUser:null,showRequestMenu:!1,showRemoveMenu:!1};function At(e){return Object(d.a)(Object(d.a)({},e),{},{showRemoveMenu:!0})}function Ft(e){return Object(d.a)(Object(d.a)({},e),{},{showRemoveMenu:!1})}function Pt(e,t){return Object(d.a)(Object(d.a)({},e),{},{selectedUser:t})}function Rt(e,t){return Object(d.a)(Object(d.a)({},e),{},{activeRequest:t})}function Ut(e){return Object(d.a)(Object(d.a)({},e),{},{showRequestMenu:!0})}function It(e){return Object(d.a)(Object(d.a)({},e),{},{showRequestMenu:!1})}var _t=Object(u.a)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return G(e);case N:return H(e);case A:return Q(e);case F:return X(e);case I:return W(e,t.payload.tasks);case U:return V(e,t.payload.id);case P:return K(e);case R:return Y(e);case D:return J(e);case E:return Z(e,t.payload);case M:return z(e,t.payload.id);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type===$?te(e,t.isSignedIn):e},priority:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return re(e,t.payload);case S:return se(e);default:return e}},sortMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return oe(e);case q:return ce(e);default:return e}},taskMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return ue(e);case T:return le(e);case k:return de(e);case y:return he(e);default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return et(e);case je:return $e(e);case be:return Ze(e);case ve:return Xe(e,t.lists);case Oe:return Qe(e,t.lists);case xe:return Ge(e,t.lists);case me:return He(e,t.list);case we:return ze(e,t.name);case Ie:return Ke(e);case _e:return Je(e);default:return e}},newListMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return ot(e,t.name);case tt:return at(e);case nt:return ct(e);default:return e}},listSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return kt(e);case ge:return yt(e);case Se:return wt(e);case Le:return mt(e);case Te:return xt(e,t.text);case Me:return Ot(e);case Ce:return vt(e);case Ne:return bt(e);case De:return jt(e);case Ae:return pt(e);case Fe:return ft(e);case Pe:return dt(e);case Re:return ht(e);case Ue:return lt(e,t.user);default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Ut(e);case St:return It(e);case Lt:return Rt(e,t.list);case Ct:return Pt(e,t.user);case Tt:return At(e);case Mt:return Ft(e);default:return e}}}),qt=Object(u.b)(_t),Et=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"toggleTodoList",value:function(){var e={type:C};qt.dispatch(e)}},{key:"activeTask",value:function(){return qt.getState().tasks.activeTask}},{key:"showSortMenu",value:function(){return qt.getState().tasks.showSortMenu}},{key:"hideSortMenu",value:function(){var e={type:q};qt.dispatch(e)}},{key:"openSortFieldMenu",value:function(){var e={type:_};qt.dispatch(e)}},{key:"showToDo",value:function(){return qt.getState().tasks.showTodo}},{key:"showCompleted",value:function(){return qt.getState().tasks.showCompleted}},{key:"showDropDownMenu",value:function(){var e={type:k};qt.dispatch(e)}},{key:"closeMenu",value:function(){var e={type:y};qt.dispatch(e)}},{key:"menuIsActive",value:function(){return qt.getState().taskMenu.showDropDownMenu}},{key:"toggleCompletedList",value:function(){var e={type:N};qt.dispatch(e)}},{key:"showUndo",value:function(){var e={type:A};qt.dispatch(e)}},{key:"hideUndo",value:function(){var e={type:F};qt.dispatch(e)}},{key:"undoTask",value:function(){var e={type:D};qt.dispatch(e)}},{key:"undoIsActive",value:function(){return qt.getState().tasks.showUndo}},{key:"showPriorityMenu",value:function(e){var t=function(e){return{type:g,payload:{id:e}}}(e);qt.dispatch(t)}},{key:"hidePriorityMenu",value:function(){var e={type:S};qt.dispatch(e)}},{key:"showTaskMenu",value:function(){var e={type:L};qt.dispatch(e)}},{key:"hideTaskMenu",value:function(){var e={type:T};qt.dispatch(e)}},{key:"setActiveTask",value:function(e){var t=function(e){return{type:U,payload:{id:e}}}(e);qt.dispatch(t)}},{key:"getLastTask",value:function(){var e=qt.getState().tasks,t=e.tasks.length;return 0==t?null:e[t-1]}}]),e}(),Bt=n(8),Wt=n(0),Vt=n.n(Wt),Yt=n(2),Kt=n(50);Kt.a.initializeApp({apiKey:"AIzaSyCX-SKr6NJLpnc0-fvxLOC8fORYMNY67AQ",authDomain:"classproject124-c3fc8.firebaseapp.com",projectId:"classproject124-c3fc8",storageBucket:"classproject124-c3fc8.appspot.com",messagingSenderId:"597806616477",appId:"1:597806616477:web:0956d0b95073c73c9f6974",measurementId:"G-FJ0WB34RNT"});var Jt=Kt.a,zt=Jt.firestore(),Ht=n(98),Gt="users",Qt="tasks",Xt=new(function(){function e(){Object(c.a)(this,e),this._db=zt,this._taskSubscription=null,this._sortSubscription=null,this._ownedListSubscription=null,this._pendingListSubscription=null,this._sharedListSubscription=null}return Object(o.a)(e,[{key:"setPendingSubscription",value:function(e){this._pendingListSubscription&&this._pendingListSubscription(),this._pendingListSubscription=e.onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));console.log(t),qt.dispatch({type:xe,lists:t})}))}},{key:"setSharedSubscription",value:function(e){this._sharedListSubscription&&this._sharedListSubscription(),this._sharedListSubscription=e.onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));qt.dispatch({type:Oe,lists:t})}))}},{key:"setTaskSubscription",value:function(e){this._taskSubscription&&this._taskSubscription(),this._taskSubscription=e.onSnapshot((function(e){var t=function(e){return{type:I,payload:{tasks:e}}}(e.docs.map((function(e){return e.data()})));qt.dispatch(t)}))}},{key:"setOwnedListSubscription",value:function(e){this._ownedListSubscription&&this._ownedListSubscription(),this._ownedListSubscription=e.onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()})),n={type:ve,lists:t};qt.dispatch(n)}))}},{key:"setSortSubscription",value:function(e){this._sortSubscrption=e.onSnapshot((function(e){var t=function(e){return{type:E,payload:{sortingFields:e}}}(e.data().sortingFields);qt.dispatch(t)}))}},{key:"clearTaskSub",value:function(){this._taskSubscription&&this._taskSubscription(),this._sortSubscrption&&this._sortSubscrption(),this._taskSubscription=null,this._sortSubscrption=null}},{key:"clearListSub",value:function(){this._ownedListSubscription&&this._ownedListSubscription(),this._ownedListSubscription=null,this._sharedListSubscription&&this._sharedListSubscription(),this._sharedListSubscription=null,this._pendingListSubscription&&this._pendingListSubscription(),this._pendingListSubscription=null}},{key:"clearAll",value:function(){this.clearTaskSub(),this.clearListSub()}}]),e}()),Zt="lists",$t=Jt.firestore.FieldValue,en=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"toggleOwnListMenu",value:function(){var e={type:fe};qt.dispatch(e)}},{key:"sendShareRequest",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn().get();case 2:if(e.sent.data().owner!=t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,cn().update({pendingUsers:$t.arrayUnion(t)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptShareRequest",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jt.auth().currentUser.email,e.next=3,zt.collection(Zt).doc(t.id).update({pendingUsers:$t.arrayRemove(n),usersSharedWith:$t.arrayUnion(n)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectShareRequest",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jt.auth().currentUser.email,e.next=3,zt.collection(Zt).doc(t.id).update({pendingUsers:$t.arrayRemove(n)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAccess",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn().update({usersSharedWith:$t.arrayRemove(t)});case 2:return e.next=4,cn().get();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleSharedListMenu",value:function(){var e={type:je};qt.dispatch(e)}},{key:"togglePendingListMenu",value:function(){var e={type:be};qt.dispatch(e)}},{key:"deleteActiveList",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt.clearTaskSub(),e.next=3,cn().delete();case 3:qt.dispatch(ke(null));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateListName",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn().update({title:t});case 2:qt.dispatch({type:we,name:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"navToList",value:function(e){var t=ke(e);qt.dispatch(t),e&&(Xt.setTaskSubscription(zt.collection(Zt).doc(e.id).collection(Qt)),Xt.setSortSubscription(zt.collection(Zt).doc(e.id)))}},{key:"createList",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n,r,s;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(Ht.a)(),r=Jt.auth().currentUser){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,zt.collection(Zt).doc(n).set({id:n,title:t,owner:r.email,usersSharedWith:[],pendingUsers:[],sortingFields:[]});case 6:return s=Object(Ht.a)(),e.next=9,zt.collection(Zt).doc(n).collection(Qt).doc(s).set({isCompleted:!1,text:"",id:s,priority:-1,creationDate:Date.now()});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tn=zt.collection(Zt),nn=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"updateTaskText",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t,n){var r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t);case 2:return r=e.sent,e.next=5,r.update({text:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"toggleTaskCompletion",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n,r,s,i;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn(t),e.next=3,n.get();case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:return s=r.data(),i=s.isCompleted,e.next=9,n.update({isCompleted:!i});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTask",value:function(){if(cn()){var e=Object(Ht.a)();return cn().collection(Qt).doc(e).set({isCompleted:!1,text:"",id:e,priority:-1,creationDate:Date.now()}),e}}},{key:"deleteTask",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.delete();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAllCompleted",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(){var t,n,r,s,i;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn()){e.next=2;break}return e.abrupt("return");case 2:return t={type:P},qt.dispatch(t),e.next=6,cn().collection(Qt).where("isCompleted","==",!0).get();case 6:n=e.sent,r=Object(Bt.a)(n.docs),e.prev=8,r.s();case 10:if((s=r.n()).done){e.next=16;break}return i=s.value,e.next=14,i.ref.delete();case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[8,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"todo",value:function(){return qt.getState().tasks.tasks.filter((function(e){return!1===e.isCompleted}))}},{key:"completed",value:function(){return qt.getState().tasks.tasks.filter((function(e){return!0===e.isCompleted}))}},{key:"updateTaskPriority",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t,n){var r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t);case 2:return r=e.sent,e.next=5,r.update({priority:n});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTask",value:function(e){return qt.getState().tasks.tasks.find((function(t){return t.id==e}))}},{key:"undoTaskDelete",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(){var t,n,r,s,i,a;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qt.getState().tasks.stack,n=t.pop()){e.next=4;break}return e.abrupt("return");case 4:r=Object(Bt.a)(n),e.prev=5,r.s();case 7:if((s=r.n()).done){e.next=14;break}if(rn((i=s.value).id).exists){e.next=12;break}return e.next=12,sn(i);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:a={type:R},qt.dispatch(a);case 24:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rn(e){if(cn())return cn().collection(Qt).doc(e)}function sn(e){return an.apply(this,arguments)}function an(){return(an=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cn().collection(Qt).doc(t.id).set(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(){var e=qt.getState().lists.activeList;if(e)return tn.doc(e.id)}var on=nn,un=(n(74),n(5)),ln={0:"high-priority",1:"medium-priority",2:"low-priority"};function dn(e){var t=ln[e];return t||"no-priority"}function hn(e){var t=e.id,n=e.priority,r=e.text,s=-1==n?"no-priority":ln[n];return Object(un.jsx)("button",{"aria-label":"Priority Button with ".concat(dn(n)," for task with text ").concat(r),className:s+" priority-icon",onClick:function(){return function(e){Et.hideTaskMenu(),Et.hideSortMenu(),Et.showPriorityMenu(e);var t=document.getElementsByClassName("priority-item");t[0]&&t[0].focus()}(t)}})}function pn(){var e=function(){var e=Et.activeTask(),t=Et.getLastTask(),n=t?t.id:null;e||(e=n);if(!e)return;var r=document.getElementById(e);return r||document.getElementById(n)}();if(!e)return function(){var e=document.getElementById("action-button");if(!e)return;e.focus()}();e.getElementsByClassName("task-text")[0].focus()}function fn(){return(fn=Object(Yt.a)(Vt.a.mark((function e(t,n){var r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Delete"===t.key)){e.next=6;break}return r=bn(n),e.next=5,on.deleteTask(n);case 5:r&&r.focus();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){var t=document.getElementById(e);return t?t.previousElementSibling:null}function jn(e){var t=e.priority,n=e.isCompleted,r=e.text,s=(new Map).set(0,"High Priorty").set(-1,"No Priority").set(1,"Medium Priority").set(2,"Low Priority");return"Task with text ".concat(r," has priority level ").concat(s.get(t)," and is ").concat(n?"completed":"not completed ")}function vn(){return(vn=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on.toggleTaskCompletion(t);case 2:pn();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var On=Object(a.b)((function(e,t){var n=t.id==e.activeTask&&function(e){return e.showTaskMenu||e.showSortMenu||e.showPriorityMenu}(e);return{isSelected:n}}))((function(e){var t="task-item ".concat(e.isCompleted?"completed":""," ").concat(e.isSelected?"selected-task":"");return Object(un.jsxs)("div",{"aria-label":jn(e),id:e.id,class:t,onKeyDown:function(t){return function(e,t){return fn.apply(this,arguments)}(t,e.id)},children:[Object(un.jsx)("input",{alt:"task completion status",class:"checkbox",type:"checkbox","aria-label":e.isCompleted?"Mark task with text ".concat(e.text," as to do"):"Mark task with text ".concat(e.text," as completed "),value:e.isCompleted,onChange:function(t){return function(e){return vn.apply(this,arguments)}(e.id)},checked:e.isCompleted}),Object(un.jsx)("button",{"aria-label":"To do item with text: ".concat(e.text),class:"task-text",alt:"task text",onClick:function(){return t=e.id,Et.showTaskMenu(),Et.hideSortMenu(),Et.hidePriorityMenu(),void Et.setActiveTask(t);var t},children:e.text}),Object(un.jsx)(hn,{text:e.text,id:e.id,priority:e.priority})]})}));n(76);function xn(e){return Object(un.jsx)("div",{class:"container scroll-container",children:e.tasks.map((function(e){return Object(r.createElement)(On,Object(d.a)(Object(d.a)({},e),{},{key:e.id}))}))})}n(77),n(78),n(79);var mn=n(23),wn=n(25);function kn(e){var t=e.isToDo,n=e.isOpen;return t?n?"Close To Do Section":"Open To Do Section ":n?"Close Completed Section":"Open Completed Section "}var yn=Object(a.b)((function(e,t){return{isOpen:t.isToDo?Et.showToDo():Et.showCompleted()}}))((function(e){var t=e.isOpen?mn.a:mn.c;return Object(un.jsx)("button",{class:"drop-down",onClick:function(t){e.isToDo?Et.toggleTodoList():Et.toggleCompletedList()},"aria-label":kn(e),children:Object(un.jsx)(wn.a,{icon:t})})}));n(82);function gn(){Et.openSortFieldMenu()}function Sn(e){var t=e.isToDo?"sort-button":"sort-button hide";return Object(un.jsx)("button",{id:"filter-button",className:t,onClick:gn,"aria-label":"Open Sort Filter",children:Object(un.jsx)(wn.a,{icon:mn.j})})}n(54);function Ln(){Et.showDropDownMenu()}function Tn(e){var t=e.hasCompletedTasks?"banner-drop-down":"banner-drop-down hidden";return Object(un.jsx)("button",{"aria-label":"Clear Task Drop Down",className:t,onClick:Ln,children:Object(un.jsx)(wn.a,{icon:mn.g})})}function Mn(e){return Object(un.jsxs)("button",{onClick:function(){return e.command()},class:"action-item",onKeyDown:function(e){"Escape"==e.key&&Et.closeMenu()},autoFocus:!0,children:[e.icon&&Object(un.jsx)(wn.a,{icon:e.icon}),Object(un.jsx)("div",{class:"action-text",children:Object(un.jsxs)("p",{children:[" ",e.text," "]})})]})}n(83);var Cn=[{text:"Clear Completed Tasks",command:function(){on.deleteAllCompleted(),Et.closeMenu(),Et.showUndo(),setTimeout((function(){Et.hideUndo()}),3e3)},icon:mn.h}];function Nn(e){return Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"action-container",children:Cn.map((function(e){return Object(r.createElement)(Mn,Object(d.a)(Object(d.a)({},e),{},{key:e.text}))}))}),Object(un.jsx)("div",{className:"overlay",onClick:Et.closeMenu})]})}function Dn(e){var t="bar ".concat(e.className);return Object(un.jsxs)("div",{class:t,children:[Object(un.jsx)(yn,{isToDo:"todo-bar"===e.className}),Object(un.jsxs)("h1",{class:"bar-title",children:[" ",e.sectionTitle," "]}),Object(un.jsx)(Sn,{isToDo:e.isToDo}),!e.isToDo&&Object(un.jsx)(Tn,{hasCompletedTasks:e.hasCompletedTask}),!e.isToDo&&e.menuIsActive&&Object(un.jsx)(Nn,{})]})}var An=Object(a.b)((function(e,t){if("To Do"===t.sectionTitle)return{tasks:on.todo(),showContainer:Et.showToDo(),isToDo:!0,showSortMenu:e.showSortMenu};var n=on.completed().length>0;return{tasks:on.completed(),menuIsActive:Et.menuIsActive(),showContainer:Et.showCompleted(),hasCompletedTasks:n,isToDo:!1,showSortMenu:e.showSortMenu}}))((function(e){return Object(un.jsxs)("div",{children:[Object(un.jsx)(Dn,{isToDo:e.isToDo,hasCompletedTask:e.hasCompletedTasks,menuIsActive:e.menuIsActive,sectionTitle:e.sectionTitle,className:e.className}),e.showContainer&&Object(un.jsx)(xn,{tasks:e.tasks})]})}));n(55);function Fn(){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on.undoTaskDelete();case 2:Et.hideUndo();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(){return Object(un.jsxs)("div",{class:"undo",children:[Object(un.jsx)("p",{children:" Completed tasks cleared"}),Object(un.jsx)("button",{"aria-label":"Undo Cleared Tasks",alt:"undo task clear",onClick:Fn,autoFocus:!0,children:"Undo"})]})}n(84),zt.collection(Gt);var Un=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"addSortField",value:function(){var t=Object(Yt.a)(Vt.a.mark((function t(n,r){var s;return Vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasValidField(n)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,_n();case 4:if(s=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!Vn(n,s)){t.next=11;break}return t.abrupt("return");case 11:Yn(s,n,!!r);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"hasValidField",value:function(e){return e==h||e==f||e==p}},{key:"changeSortField",value:function(){var t=Object(Yt.a)(Vt.a.mark((function t(n,r){var s,i,a;return Vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasValidField(n)){t.next=2;break}return t.abrupt("return");case 2:if(e.hasValidField(r)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,_n();case 6:if(s=t.sent,i=s.find((function(e){return e.field==n})),a=s.find((function(e){return e.field==r})),i){t.next=11;break}return t.abrupt("return");case 11:return i.field=a?n:r,t.next=14,En(s);case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeAscending",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t,n){var r,s;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n();case 2:if(r=e.sent,s=r.find((function(e){return e.field==t}))){e.next=6;break}return e.abrupt("return");case 6:return s.isAscending=!!n,e.next=9,En(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addRandomField",value:function(){var t=Object(Yt.a)(Vt.a.mark((function t(){var n,r,s,i;return Vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_n();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(r=!!n.find((function(e){return"name"==e.field})),s=!!n.find((function(e){return"time"==e.field})),i=!!n.find((function(e){return"priority"==e.field})),r){t.next=13;break}return t.next=11,e.addSortField("name",!0);case 11:case 16:t.next=21;break;case 13:if(s){t.next=18;break}return t.next=16,e.addSortField("time",!0);case 18:if(i){t.next=21;break}return t.next=21,e.addSortField("priority",!0);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"removeSortField",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n,r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n();case 2:if(n=e.sent,In(),n){e.next=6;break}return e.abrupt("return");case 6:return r=n.filter((function(e){return e.field!==t})),e.next=9,En(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeSortFieldOrder",value:function(){var e=Object(Yt.a)(Vt.a.mark((function e(t,n){var r,s,i;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n();case 2:if(!(!(r=e.sent)||n<0||n>=r.length)){e.next=5;break}return e.abrupt("return");case 5:if(-1!=(s=Wn(t,r))){e.next=8;break}return e.abrupt("return");case 8:return i=r.splice(s,1),r.splice(n,0,i[0]),e.next=12,En(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function In(){return cn()}function _n(){return qn.apply(this,arguments)}function qn(){return(qn=Object(Yt.a)(Vt.a.mark((function e(){var t;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In().get();case 2:return t=e.sent,e.abrupt("return",t?t.data().sortingFields:null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=In(),e.next=3,n.update({sortingFields:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){for(var n=0;n<t.length;n++){if(t[n].field==e)return n}return-1}function Vn(e,t){return!!t.find((function(t){return t.field==e}))}function Yn(e,t,n){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(Yt.a)(Vt.a.mark((function e(t,n,r){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(),t.push({field:n,isAscending:r}),e.next=4,En(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(){return zn.apply(this,arguments)}function zn(){return(zn=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un.addRandomField();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e){var t=e.sortingFields.length<3?"sortButton sort-button-color":"hide";return Object(un.jsx)("button",{onClick:Jn,className:t,"aria-label":"Add a Sort Field",autoFocus:!0,children:Object(un.jsx)("span",{children:" + Field "})})}function Gn(){Et.hideSortMenu();var e=document.getElementById("filter-button");e&&e.focus()}function Qn(e){return Object(un.jsx)("button",{id:"sort-close-button",className:"sort-close-button sort-button-color","aria-label":"Close Sort Filter",onClick:Gn,children:Object(un.jsx)("span",{children:" x "})})}n(47);function Xn(){return(Xn=Object(Yt.a)(Vt.a.mark((function e(t,n){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,Un.changeSortFieldOrder(t,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zn=Object(a.b)((function(e){return{sortingFields:e.tasks.sortingFields}}))((function(e){return Object(un.jsx)("div",{children:Object(un.jsx)("select",{"aria-label":"Change Sorting Order",className:"sort-order",onChange:function(t){return function(e,t){return Xn.apply(this,arguments)}(e.field,parseInt(t.currentTarget.value))},value:e.index,autoFocus:0==e.index,children:e.sortingFields.map((function(e,t){return Object(un.jsxs)("option",{value:t,children:[" ",t+1," "]},t)}))})})}));function $n(e){return Object(un.jsxs)("div",{children:[Object(un.jsx)("label",{children:" By "}),Object(un.jsxs)("select",{"aria-label":"Sort By Dropdown",className:"sort-type",onChange:function(t){return function(e,t){Un.changeSortField(e,t.currentTarget.value)}(e.field,t)},value:e.field,children:[Object(un.jsx)("option",{value:"name",children:" Name "}),Object(un.jsx)("option",{value:"time",children:" Creation Date"}),Object(un.jsx)("option",{value:"priority",children:" Priority "})]})]})}function er(){return(er=Object(Yt.a)(Vt.a.mark((function e(t,n){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un.changeAscending(t,!n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e){var t=e.isAscending?mn.l:mn.k;return Object(un.jsx)("div",{children:Object(un.jsx)("button",{className:"direction-button",onClick:function(){return function(e,t){return er.apply(this,arguments)}(e.field,e.isAscending)},"aria-label":e.isAscending?"Sort in Descending Order":"Sort in Ascending Order",children:Object(un.jsx)(wn.a,{icon:t})})})}function nr(e){return Object(un.jsx)("button",{className:"delete-button",onClick:function(){return t=e.field,void Un.removeSortField(t);var t},"aria-label":"Delete Sorting Field",children:Object(un.jsx)("span",{children:" x "})})}function rr(e){var t=e.field,n=e.index,r=e.isAscending;return"Sort by ".concat(t," with index ").concat(n," in ").concat(r?"ascending":"descending"," order")}function sr(e){return Object(un.jsxs)("div",{className:"entry-container","aria-label":rr(e),children:[Object(un.jsx)(Zn,{field:e.field,index:e.index}),Object(un.jsx)($n,{field:e.field}),Object(un.jsx)(tr,{isAscending:e.isAscending,field:e.field}),Object(un.jsx)(nr,{field:e.field})]})}var ir=Object(a.b)((function(e){return{sortingFields:e.tasks.sortingFields}}))((function(e){return Object(un.jsxs)("div",{className:"sort-container",children:[Object(un.jsxs)("div",{className:"sort-bar",children:[Object(un.jsx)("h2",{className:"sort-title",children:" Sort "}),Object(un.jsxs)("div",{className:"sort-section",children:[Object(un.jsx)(Hn,{sortingFields:e.sortingFields}),Object(un.jsx)(Qn,{})]})]}),Object(un.jsx)("div",{class:"field-container",children:e.sortingFields.map((function(e,t){return Object(un.jsx)(sr,Object(d.a)({index:t},e),t)}))})]})}));n(37);function ar(){Et.hideTaskMenu(),pn()}function cr(e){return Object(un.jsx)("button",{className:"task-menu-close-button",onClick:ar,"aria-label":"Close Task Menu",children:"Close"})}function or(){return(or=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return Et.hideTaskMenu(),e.next=5,on.deleteTask(t);case 5:pn();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ur=Object(a.b)((function(e){return{activeTask:e.tasks.activeTask}}))((function(e){var t=e.activeTask;return Object(un.jsx)("button",{className:"task-menu-delete-button",onClick:function(){return function(e){return or.apply(this,arguments)}(t)},"aria-label":"Delete Selected Task",children:"Delete"})}));function lr(e){return Object(un.jsxs)("div",{className:"task-menu-bar",children:[Object(un.jsx)("h2",{className:"task-menu-title",children:" Task "}),Object(un.jsxs)("div",{children:[Object(un.jsx)(ur,{}),Object(un.jsx)(cr,{})]})]})}function dr(){return(dr=Object(Yt.a)(Vt.a.mark((function e(t,n){var r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.value,e.next=3,on.updateTaskText(n,r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(){return(hr=Object(Yt.a)(Vt.a.mark((function e(t){var n,r,s;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Enter"===t.key,r=t.currentTarget,!n){e.next=8;break}return e.next=5,on.createTask();case 5:s=e.sent,Et.setActiveTask(s),r.value="";case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pr=Object(a.b)((function(e){return{activeTask:e.tasks.activeTask,task:on.getTask(e.tasks.activeTask)}}))((function(e){var t=e.activeTask,n=e.task;return Object(un.jsx)("div",{className:"task-editor-container",children:Object(un.jsx)("input",{id:"task-editor","aria-label":"Set Task Text",value:n?n.text:"",autoFocus:!0,onKeyPress:function(e){return function(e){return hr.apply(this,arguments)}(e)},onChange:function(e){return function(e,t){return dr.apply(this,arguments)}(e,t)}})})}));function fr(e){return Object(un.jsxs)("div",{className:"task-menu-container",children:[Object(un.jsx)(lr,{}),Object(un.jsx)(pr,{})]})}var br={0:"high-priority",1:"medium-priority",2:"low-priority"};function jr(e){var t=e.priority,n=-1==t?"no-priority":br[t];return Object(un.jsx)("div",{className:n+" priority-icon"})}var vr=Object(a.b)((function(e){var t=e.priority.priorityMenuActiveID,n=e.tasks.tasks.find((function(e){return e.id==t})).priority;return{id:t,selection:n}}))((function(e){var t=e.priority==e.selection,n=t?"priority-item priority-selection":"priority-item";return Object(un.jsxs)("button",{"aria-label":"Set Task Priority to ".concat(e.priorityText),className:n,tabIndex:0,onClick:function(){return t=e.id,n=e.priority,void on.updateTaskPriority(t,n);var t,n},autoFocus:t,children:[Object(un.jsxs)("span",{children:[" ",e.priorityText]}),Object(un.jsx)(jr,{priority:e.priority})]})}));function Or(){Et.hidePriorityMenu(),pn()}function xr(e){return Object(un.jsx)("button",{className:"priority-close-button",onClick:Or,"aria-label":"Close Priority Selection Menu",children:Object(un.jsx)("span",{children:" x "})})}function mr(e){return Object(un.jsxs)("div",{className:"priority-menu-bar",children:[Object(un.jsx)("h2",{className:"priority-title",children:" Priority "}),Object(un.jsx)(xr,{})]})}n(85);var wr=[{priorityText:"No Priority",priority:-1},{priorityText:"Low Priority",priority:2},{priorityText:"Medium Priority",priority:1},{priorityText:"High Priority",priority:0}];function kr(e){return Object(un.jsxs)("div",{className:"priority-menu-container",children:[Object(un.jsx)(mr,{}),Object(un.jsx)("div",{className:"priority-item-container",children:wr.map((function(e,t){return Object(un.jsx)(vr,Object(d.a)({index:t},e),t)}))})]})}function yr(){var e=on.createTask();Et.setActiveTask(e),Et.showTaskMenu()}function gr(){return Object(un.jsx)("button",{id:"action-button","aria-label":"Add new Task",class:"action-button",onClick:yr,autoFocus:!0,children:Object(un.jsx)(wn.a,{icon:mn.i})})}function Sr(e){return Object(un.jsx)("button",{className:"sort-button black",onClick:Lr,children:Object(un.jsx)(wn.a,{icon:mn.f})})}function Lr(){qt.dispatch({type:ge})}function Tr(e){var t=e.heading;return Object(un.jsxs)("h1",{children:[" ",t," "]})}function Mr(){return Object(un.jsx)("button",{onClick:Cr,className:"drop-down black menu-item",children:Object(un.jsx)(wn.a,{icon:mn.b})})}function Cr(){en.navToList(null)}var Nr=Object(a.b)((function(e){return{activeList:e.lists.activeList}}))((function(e){var t=e.activeList,n=!!Jt.auth().currentUser&&t.owner==Jt.auth().currentUser.email;return Object(un.jsxs)("div",{className:"active-list-banner",children:[Object(un.jsx)(Mr,{}),Object(un.jsx)(Tr,{heading:t.title}),Object(un.jsx)(Sr,{isOwnedList:n})]})}));var Dr=Object(a.b)((function(e){return{showUndo:e.tasks.showUndo,showSortMenu:e.sortMenu.showSortMenu,showPriorityMenu:e.priority.showPriorityMenu,showTaskMenu:e.taskMenu.showTaskMenu,showListSettings:e.listSettings.showListSettings}}))((function(e){var t=e.showTaskMenu,n=e.showUndo,r=e.showSortMenu,s=e.showPriorityMenu;return Object(un.jsxs)("div",{children:[Object(un.jsx)(Nr,{}),Object(un.jsx)(An,{className:"todo-bar",sectionTitle:"To Do"}),!r&&!s&&Object(un.jsx)(An,{className:"completed-bar",sectionTitle:"Completed"}),Object(un.jsx)(gr,{}),n&&Object(un.jsx)(Rn,{}),r&&Object(un.jsx)(ir,{}),s&&Object(un.jsx)(kr,{}),t&&Object(un.jsx)(fr,{})]})}));function Ar(e){return Object(un.jsx)("div",{class:"banner",children:Object(un.jsx)("h1",{class:"title",children:" Todoiz.IO"})})}var Fr=n(60),Pr=(n(48),{signInSuccessUrl:"/cs124",signInFlow:"popup",signInOptions:[Jt.auth.EmailAuthProvider.PROVIDER_ID]});function Rr(){return Object(un.jsx)(Fr.StyledFirebaseAuth,{uiConfig:Pr,firebaseAuth:Jt.auth()})}n(95);function Ur(e){var t=e.classes,n=e.heading,r=e.showList;return Object(un.jsxs)("div",{className:"list-banner "+t,children:[Object(un.jsx)("button",{className:"list-banner-toggle "+t,onClick:function(){return function(e){switch(e){case Wr:return en.toggleOwnListMenu();case Vr:return en.toggleSharedListMenu();case Yr:return en.togglePendingListMenu()}}(n)},children:Object(un.jsx)(wn.a,{icon:r?mn.d:mn.e})}),Object(un.jsxs)("h2",{className:"list-banner-heading",children:[" ",n]})]})}function Ir(e){var t=e.heading,n=e.list;return Object(un.jsx)("button",{onClick:function(){return function(e,t){switch(e){case Wr:case Vr:return en.navToList(t);case Yr:return function(e){qt.dispatch(function(e){return{type:Lt,list:e}}(e)),qt.dispatch({type:gt})}(t)}}(t,n)},className:"list-item",children:n.title})}function _r(e){return Object(un.jsx)("button",{onClick:qr,className:"list-item",children:"Add New List"})}function qr(){qt.dispatch({type:tt})}function Er(e){var t=e.heading,n=e.showList,r=e.listItems;return Object(un.jsxs)("div",{className:n?"list-item-container":"hide-list",children:[t===Wr&&Object(un.jsx)(_r,{}),r.map((function(e,n){return Object(un.jsx)(Ir,{heading:t,list:e},n)}))]})}function Br(e){var t=e.classes,n=e.heading,r=e.listItems,s=e.showList;return Object(un.jsxs)("div",{className:"list-container",children:[Object(un.jsx)(Ur,{heading:n,classes:t,showList:s}),Object(un.jsx)(Er,{heading:n,listItems:r,showList:s})]})}var Wr="Your Lists",Vr="Shared Lists",Yr="Pending Shared Lists";var Kr=Object(a.b)((function(e){var t=e.lists;return{ownedLists:t.ownedLists,showOwnedLists:t.showOwnedLists,sharedLists:t.sharedLists,showSharedLists:t.showSharedLists,pendingLists:t.pendingLists,showPendingLists:t.showPendingLists}}))((function(e){return Object(un.jsxs)("div",{children:[Object(un.jsx)(Br,{heading:Wr,listItems:e.ownedLists,showList:e.showOwnedLists,classes:"orange"}),Object(un.jsx)(Br,{heading:Vr,listItems:e.sharedLists,showList:e.showSharedLists,classes:"red"}),Object(un.jsx)(Br,{heading:Yr,listItems:e.pendingLists,showList:e.showPendingLists,classes:"grey"})]})}));n(57);function Jr(e){return Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"dialog-overlay"}),e.children]})}function zr(e){return Object(un.jsx)("div",{className:"dialog-menu",children:Object(un.jsx)("div",{className:"dialog-menu-container",children:e.children})})}function Hr(e){var t=e.heading;return Object(un.jsx)("div",{className:"dialog-banner",children:Object(un.jsxs)("h2",{className:"dialog-heading",children:[" ",t," "]})})}function Gr(e){return Object(un.jsx)("div",{className:"dialog-item",children:Object(un.jsx)("input",{onChange:function(e){return t=e,void qt.dispatch(st(t.currentTarget.value));var t},placeholder:"Type in a List Name"})})}function Qr(e){var t=e.text,n=e.command,r=e.classes;return Object(un.jsx)("button",{className:"dialog-button "+r,onClick:function(){return n()},children:t})}function Xr(e){return Object(un.jsxs)("div",{className:"dialog-two-button-container",children:[Object(un.jsx)(Qr,{text:e.leftText,classes:e.leftClasses,command:e.leftCommand}),Object(un.jsx)(Qr,{text:e.rightText,classes:e.rightClasses,command:e.rightCommand})]})}function Zr(){return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(Hr,{heading:"New List"}),Object(un.jsx)(Gr,{}),Object(un.jsx)(Xr,{leftText:"Confirm",leftClasses:"",leftCommand:$r,rightText:"Cancel",rightClasses:"",rightCommand:es})]})})}function $r(){var e=qt.getState().newListMenu.newListName;""!==e&&(en.createList(e),es())}function es(){qt.dispatch(st("")),qt.dispatch({type:nt})}n(58);var ts=Object(a.b)((function(e){return{activeList:e.lists.activeList}}))((function(e){var t=e.activeList;return Object(un.jsx)("div",{className:"list-settings-heading orange",children:Object(un.jsx)("h1",{children:t?t.title:""})})}));function ns(){return Object(un.jsx)("button",{className:"list-settings-button",onClick:rs,children:Object(un.jsx)(wn.a,{icon:mn.b})})}function rs(){qt.dispatch(Ve())}function ss(){return Object(un.jsxs)("div",{className:"list-settings-banner red",children:[Object(un.jsx)(ns,{}),Object(un.jsx)("h2",{children:" List Settings "})]})}function is(e){var t=e.activeList,n=e.command,r=e.name,s=e._private,i=0==s||t&&t.owner==Jt.auth().currentUser.email,a=i&&"only"!==s||!i&&"only"==s?"list-settings-command":"hidden";return Object(un.jsx)("button",{className:a,onClick:function(){return n()},children:r})}function as(e){var t=e.activeList;return Object(un.jsx)("div",{className:"list-settings-container",children:cs.map((function(e,n){return Object(un.jsx)(is,Object(d.a)({activeList:t},e),n)}))})}var cs=[{name:"Change List Name",command:function(){qt.dispatch({type:Se})},_private:!0},{name:"Manage Share Settings",command:function(){qt.dispatch({type:Ne})},_private:!0},{name:"Delete List",command:function(){qt.dispatch({type:Me})},_private:!0},{name:"Remove From Shared",command:function(){qt.dispatch({type:Ie})},_private:"only"},{name:"Log Out",command:function(){return os.apply(this,arguments)},_private:!1}];function os(){return(os=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt.clearAll(),e.next=3,Jt.auth().signOut();case 3:qt.dispatch(Ve()),qt.dispatch(ee(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e){var t=e.placeholder,n=e.changeEvent;return Object(un.jsx)("div",{className:"dialog-input-container",children:Object(un.jsx)("input",{className:"dialog-input",placeholder:t,onChange:function(e){return n(e)}})})}function ls(){return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(Hr,{heading:"list Name"}),Object(un.jsx)(us,{placeholder:"Enter List Name",changeEvent:ps}),Object(un.jsx)(Xr,{leftText:"Confirm",leftClasses:"",leftCommand:ds,rightText:"Cancel",rightClasses:"",rightCommand:fs})]})})}function ds(){return hs.apply(this,arguments)}function hs(){return(hs=Object(Yt.a)(Vt.a.mark((function e(){var t;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qt.getState().listSettings.listTitle){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,en.updateListName(t);case 5:qt.dispatch(We(null)),fs();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e){var t=e.currentTarget.value;qt.dispatch(We(t))}function fs(){qt.dispatch({type:Le})}function bs(e){var t=e.text;return Object(un.jsx)("div",{className:"dialog-text-container",children:Object(un.jsxs)("p",{children:[" ",t," "]})})}function js(){return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(Hr,{heading:"Delete List"}),Object(un.jsx)(bs,{text:"Are you sure you want to delete this list?"}),Object(un.jsx)(Xr,{leftText:"Yes",leftClasses:"red",leftCommand:vs,rightText:"Cancel",rightClasses:"grey",rightCommand:xs})]})})}function vs(){return Os.apply(this,arguments)}function Os(){return(Os=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.deleteActiveList();case 2:xs(),qt.dispatch(Ve());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(){qt.dispatch({type:Ce})}function ms(){return Object(un.jsxs)("div",{className:"list-settings-banner red",children:[Object(un.jsx)("button",{className:"list-settings-button",onClick:ws,children:Object(un.jsx)(wn.a,{icon:mn.b})}),Object(un.jsx)("h2",{children:" Share Setting "})]})}function ws(){qt.dispatch({type:De})}function ks(){return Object(un.jsxs)("div",{className:" share-banner grey",children:[Object(un.jsx)("button",{className:"button",onClick:ys,children:Object(un.jsx)(wn.a,{icon:mn.i})}),Object(un.jsx)("h2",{children:" Users With Access "})]})}function ys(){qt.dispatch({type:Ae})}n(96);function gs(e){var t=e.email;return Object(un.jsxs)("div",{className:"users-container",children:[Object(un.jsxs)("p",{children:[" ",t]}),Object(un.jsx)("button",{className:"button",onClick:function(){return e=t,qt.dispatch(function(e){return{type:Ct,user:e}}(e)),void qt.dispatch({type:Tt});var e},children:Object(un.jsx)(wn.a,{icon:mn.m})})]})}var Ss=Object(a.b)((function(e){return{activeList:e.lists.activeList}}))((function(e){var t=e.activeList;return Object(un.jsx)("div",{children:t.usersSharedWith.map((function(e){return Object(un.jsx)(gs,{email:e})}))})}));function Ls(e){var t=e.text,n=e.classes,r=e.command;return Object(un.jsx)("div",{className:"dialog-button-container",children:Object(un.jsx)(Qr,{text:t,classes:n,command:r})})}function Ts(e){return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(Hr,{heading:"Share List"}),Object(un.jsx)(us,{placeholder:"Enter User Email",changeEvent:Ns}),Object(un.jsx)(Ls,{text:"Submit",classes:"green",command:Ms})]})})}function Ms(){return Cs.apply(this,arguments)}function Cs(){return(Cs=Object(Yt.a)(Vt.a.mark((function e(){var t;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qt.getState().listSettings.shareWithUser){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,en.sendShareRequest(t);case 5:qt.dispatch(Ee()),qt.dispatch(Be());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(e){var t=e.currentTarget.value;qt.dispatch(qe(t))}function Ds(){qt.dispatch(qe(null)),qt.dispatch({type:Re})}var As=Object(a.b)((function(e){return{user:e.listSettings.shareWithUser}}))((function(e){var t=e.user;return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(bs,{text:"if ".concat(t," is a valid user, they have successfully received an invite!")}),Object(un.jsx)(Ls,{text:"Close",classes:"grey",command:Ds})]})})}));function Fs(){qt.dispatch({type:Mt})}function Ps(){return(Ps=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.removeAccess(t);case 2:n=e.sent,qt.dispatch(ke(n.data())),Fs();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rs=Object(a.b)((function(e){return{selectedUser:e.request.selectedUser}}))((function(e){var t=e.selectedUser;return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(bs,{text:"Are you sure you want to remove access from\n                ".concat(t," to this list?")}),Object(un.jsx)(Xr,{leftText:"Yes",leftClasses:"red",leftCommand:function(){return function(e){return Ps.apply(this,arguments)}(t)},rightText:"No",rightClasses:"grey",rightCommand:Fs})]})})}));var Us=Object(a.b)((function(e){var t=e.listSettings,n=e.request,r=t.showShareDialogOne;return{showShareDialogTwo:t.showShareDialogTwo,showRemoveMenu:n.showRemoveMenu,showShareDialogOne:r}}))((function(e){var t=e.showShareDialogOne,n=e.showRemoveMenu,r=e.showShareDialogTwo;return Object(un.jsxs)("div",{children:[Object(un.jsx)(ks,{}),Object(un.jsx)(Ss,{}),t&&Object(un.jsx)(Ts,{}),r&&Object(un.jsx)(As,{}),n&&Object(un.jsx)(Rs,{})]})}));function Is(){return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(bs,{text:"Are you sure you want to remove your access to this list?"}),Object(un.jsx)(Xr,{leftText:"Yes",leftClasses:"red",leftCommand:_s,rightText:"No",rightClasses:"grey",rightCommand:Es})]})})}function _s(){return qs.apply(this,arguments)}function qs(){return(qs=Object(Yt.a)(Vt.a.mark((function e(){var t;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Jt.auth().currentUser.email,e.next=3,en.removeAccess(t);case 3:qt.dispatch(Ve()),qt.dispatch(ke(null)),Es();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(){qt.dispatch({type:_e})}var Bs=Object(a.b)((function(e){var t=e.listSettings,n=e.lists,r=n.activeList,s=n.showRemoveSharedMenu;return{showChangeNameMenu:t.showChangeNameMenu,showDeleteListMenu:t.showDeleteListMenu,showShareMenu:t.showShareMenu,activeList:r,showRemoveSharedMenu:s}}))((function(e){var t=e.showRemoveSharedMenu,n=e.activeList,r=e.showChangeNameMenu,s=e.showDeleteListMenu,i=e.showShareMenu;return Object(un.jsxs)("div",{className:"list-settings",children:[Object(un.jsx)(ts,{}),!i&&Object(un.jsx)(ss,{}),i&&Object(un.jsx)(ms,{}),!i&&Object(un.jsx)(as,{activeList:n}),i&&Object(un.jsx)(Us,{}),r&&Object(un.jsx)(ls,{}),s&&Object(un.jsx)(js,{}),t&&Object(un.jsx)(Is,{})]})}));function Ws(){return(Ws=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.acceptShareRequest(t);case 2:qt.dispatch(Nt());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(){return(Vs=Object(Yt.a)(Vt.a.mark((function e(t){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.rejectShareRequest(t);case 2:qt.dispatch(Nt());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ys=Object(a.b)((function(e){var t=e.request.activeRequest;return t?{list:t}:{list:null}}))((function(e){var t=e.list,n=t?t.owner:null,r=t?t.title:null;return Object(un.jsx)(Jr,{children:Object(un.jsxs)(zr,{children:[Object(un.jsx)(Hr,{heading:"Share Request"}),Object(un.jsx)(bs,{text:"".concat(n," wants to share their ").concat(r," list")}),Object(un.jsx)(Xr,{leftText:"Accept",leftClasses:"green",leftCommand:function(){return function(e){return Ws.apply(this,arguments)}(t)},rightText:"Decline",rightClasses:"red",rightCommand:function(){return function(e){return Vs.apply(this,arguments)}(t)}})]})})}));var Ks=Object(a.b)((function(e){return{isSignedIn:e.auth.isSignedIn,activeList:e.lists.activeList,showNewListMenu:e.newListMenu.showNewListMenu,showListSettings:e.listSettings.showListSettings,showRequestMenu:e.request.showRequestMenu}}))((function(e){var t=e.showRequestMenu,n=e.showListSettings,r=e.isSignedIn,s=e.activeList,i=e.showNewListMenu;return Object(un.jsxs)("div",{className:"container",children:[Object(un.jsx)(Ar,{}),r&&s&&!n&&Object(un.jsx)(Dr,{}),r&&!s&&Object(un.jsx)(Kr,{}),!r&&Object(un.jsx)(Rr,{}),i&&Object(un.jsx)(Zr,{}),n&&Object(un.jsx)(Bs,{}),t&&Object(un.jsx)(Ys,{})]})})),Js=n(16),zs=function(){var e=Jt.auth().currentUser;e&&(Xt.setOwnedListSubscription(zt.collection(Zt).where("owner","==",e.email)),Xt.setPendingSubscription(zt.collection(Zt).where("pendingUsers","array-contains",e.email)),Xt.setSharedSubscription(zt.collection(Zt).where("usersSharedWith","array-contains",e.email)))},Hs=Js.a.firestore(),Gs=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"init",value:function(){Js.a.auth().onAuthStateChanged(function(){var e=Object(Yt.a)(Vt.a.mark((function e(t){var n;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zs(t);case 4:if(e.sent){e.next=7;break}return e.next=7,Qs(t);case 7:zs(),n=ee(!!t),qt.dispatch(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Qs(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=Object(Yt.a)(Vt.a.mark((function e(t){var n,r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,r=t.email,e.next=3,Hs.collection(Gt).doc(n).set({id:n,email:r,pendingRequests:[],sentRequestIDs:[]});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(e){return $s.apply(this,arguments)}function $s(){return($s=Object(Yt.a)(Vt.a.mark((function e(t){var n,r;return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,e.next=3,Hs.collection(Gt).doc(n).get();case 3:return r=e.sent,e.abrupt("return",r.exists);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(){return(ei=Object(Yt.a)(Vt.a.mark((function e(){return Vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gs.init();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){ei.apply(this,arguments)}(),i.a.render(Object(un.jsx)(a.a,{store:qt,children:Object(un.jsx)(Ks,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.3a673edf.chunk.js.map